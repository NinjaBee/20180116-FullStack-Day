<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Input testing</title>
    <script type="text/javascript">
    	
    	let width = 500;
    	let height = 500;
		let ball = {
    		radius: 4*10,
    		px: Math.random()*width,
    		py: Math.random()*height,
    		vx: (2*Math.random()-1)*10,
    		vy: (2*Math.random()-1)*10 
    	};
 

    	window.onload = function () {
    		let canvas = document.querySelector('canvas');
    		let ctx = canvas.getContext("2d");
    		ctx.beginPath();
			ctx.fillStyle = 'green';
			ctx.fill();
    		function main_loop() {
    			canvas.width = window.innerWidth;
    			canvas.height = window.innerHeight;
    			//gravity

    			//note: clever solutions are not a substitution for thoroughness
    			//bouncing ball radius is x left edge y top edge, positive velocity
    			let friction = 0.90
    			if (ball.px <= ball.radius) {
    				ball.vx = Math.abs(ball.vx) * friction;

    			};
    			//right edge
    			if (ball.px + ball.radius >= canvas.width) {
    				ball.vx = -Math.abs(ball.vx) * friction;

    			}; //upper edge
    			if (ball.py <= ball.radius) {
    				ball.vy = Math.abs(ball.vy)  * friction //inverse to positive
   
    			}; //lower edge
    			if (ball.py + ball.radius >= canvas.height) {
    				ball.vy = -Math.abs(ball.vy) * friction;
    			};

    			//
				ball.px += ball.vx;
    			ball.py += ball.vy;

    			//apply gravity
				ball.vy += 1;
    			// ctx.beginPath();

    			// ctx.fillStyle = 'rgba(255,255,255,0.5)'; 
				// ctx.fill();

    			// ctx.fillRect(0, 0, canvas.width, canvas.height);
				// ctx.clearRect(0, 0, canvas.width, canvas.height);

				
				ctx.fillStyle = 'green';
				ctx.arc(ball.px, ball.py, ball.radius, 0, 2 * Math.PI, false);
    			ctx.fillRect(ball.px, ball.py, ball.radius, 0, 2 * Math.PI, false);
				
				ctx.fill();


    			// console.log(ball.px);
    			window.requestAnimationFrame(main_loop);
    		}
    	window.requestAnimationFrame(main_loop);
    	}


    	
    </script>
    <style>
    * {
    	overflow: hidden;
    	margin: auto;
    	background-color: black;
    }
    canvas {
    	border: 1px solid black;
    }
	</style>
</head>
<body>
	<canvas></canvas>
</body>      	